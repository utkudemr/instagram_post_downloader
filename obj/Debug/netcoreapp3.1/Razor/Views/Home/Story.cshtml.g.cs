#pragma checksum "C:\Users\Utku Demir\Desktop\Mmosoft.Instagram.Sdk-master\Mmosoft.Instagram.Sdk-master\WebApplication1\Views\Home\Story.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "fc1cb43ba74500878f21398c16a1eb813db0cdd6"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Story), @"mvc.1.0.view", @"/Views/Home/Story.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Utku Demir\Desktop\Mmosoft.Instagram.Sdk-master\Mmosoft.Instagram.Sdk-master\WebApplication1\Views\_ViewImports.cshtml"
using WebApplication1;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Utku Demir\Desktop\Mmosoft.Instagram.Sdk-master\Mmosoft.Instagram.Sdk-master\WebApplication1\Views\_ViewImports.cshtml"
using WebApplication1.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"fc1cb43ba74500878f21398c16a1eb813db0cdd6", @"/Views/Home/Story.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"729efaa87342638aecfe1a972ce9f9f8dff55b4c", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Story : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 2 "C:\Users\Utku Demir\Desktop\Mmosoft.Instagram.Sdk-master\Mmosoft.Instagram.Sdk-master\WebApplication1\Views\Home\Story.cshtml"
  
    ViewData["Title"] = "Story";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<script>
    $(document).ready(function () {
        $(""#btnPost"").click(function () {
            debugger;
         
            var txt = document.getElementById('urlText').value;
            if (txt == """") {
                return;
            }
            $.ajax({
                url: '/Home/StoryDownloader',
                type: 'POST',
                dataType: 'json',
                data: { url: txt },
                success: function (data) {
                    debugger;
                    let type = data.type;
                    var url = data.url;
                    console.log(url);
                    document.getElementById('toss').innerHTML = ""<h5 >Display Media</h5>"";
                    document.getElementById('tossButtons').innerHTML = """";
                    if (data.multiPhotos == null) {
                        var link = `<h5 class=""text-center mt-1 mb-3 mt-5 d-sm-block""><a class=""btn btn-sm btn-primary  btn-lg""  href=""${url}"" download=""DOwnload"" id=""downloa");
            WriteLiteral(@"dLink"" target=""__blank"">Download ${type} file â¬‡</a></h5>`;
                        document.getElementById('tossButtons').innerHTML += link;
                    }
                    if (type == ""image"") {
                        var imageLink = `<img src=""${url}"" class=""media-size"">`;
                        document.getElementById('toss').innerHTML += imageLink;
                        addAnotherMedia(data, imageLink);
                    }
                    else {
                        var videoLink = `<video class=""framed media-size"" controls="""" preload=""auto""><source src=""${url}"" type=""video/mp4""></video>`;
                        document.getElementById('toss').innerHTML += videoLink;
                    }


                    var cardLink = `
                        <div class=""card media-size mt-1"" style=""width: 18rem;overflow-y:auto"">
                        <div class=""card-body d-flex flex-row"">
                                <img class=""card-img-top img-size"" src=""${data.own");
            WriteLiteral(@"er.profile_pic_url}"" alt=""Card image cap"">
                                <div>
                                  <h5 class=""card-title font-weight-bold mb-2 ml-3 mt-2""><a href=""http://www.instagram.com/${data.owner.username}"" target=""_blank"">${data.owner.username}<a></h4>
                                </div>
                        </div>
                        <div class=""card-body"">
                            <p class=""card-text"" style=""font-size:12px"">${data.caption}</p>
                        </div>
                    </div>`
                    document.getElementById('tossInfo').innerHTML = cardLink;
                    //alert(data);
                    // document.location.href = data;
                },
                error: function (error) {
                    alert(""Something wrong ðŸ˜¢ðŸ˜¢ðŸ˜¢ðŸ˜¢"");
                }
            });


        });

        function get(s) {
            debugger;
            s = 'champagnepapi';
            $.get('https://www.instagram.co");
            WriteLiteral(@"m/' + s + '/?__a=1', function (data) {

                if (data != null && typeof data === 'object') {
                    debugger
                    $.post('', { data: JSON.stringify(data) }, function (r) {

                        if (r.isJson()) {

                            r = JSON.parse(r);
                            if (r.error != null) {

                                $('.result-error .text').html(r.error);

                            } else if (r.stories != null && r.stories.error != null) {

                                $('.result-error .text').html(r.stories.error);

                            } else if (r.account != null) {

                                if (r.account.verified != null && r.account.verified == true) {
                                    $('.result-account').addClass('verified');
                                }

                                $('.result-account .avatar').attr('style', 'background-image: url(' + r.account.src + ');');
        ");
            WriteLiteral(@"                        if (r.account.fullname != null && r.account.fullname.length > 0) {
                                    $('.result-account').addClass('has-cta');
                                    $('.result-account .info-wrapper .call-to-action').html(r.account.fullname);
                                }
                                $('.result-account').removeAttr('style');

                                if (r.account.follower_count != null) {
                                    $('.result-account .info-wrapper .followers-number').html(r.account.follower_count.toString().commas() + ' Followers');
                                }

                                $('.result-tab-selector').removeAttr('style');

                                if (r.message != null) {

                                    $('.result-private').removeAttr('style');
                                    $('.result-private').html(r.message);
                                    $('.result-loading').attr('s");
            WriteLiteral(@"tyle', 'display: none');
                                }

                                if (r.stories != null && r.stories.length > 0) {

                                    if ($('.stories-list li').length == 0) {
                                        for (var j = 0; j < r.stories.length; j++) {
                                            var story = r.stories[j];

                                            var li = document.createElement('li');
                                            li.classList.add('story');
                                            var div = document.createElement('div');
                                            div.classList.add('story-post');
                                            if (story.type == 'vid') {
                                                var vid = document.createElement('video');
                                                vid.setAttribute('controls', true);
                                                vid.setAttribute('width");
            WriteLiteral(@"', 300);
                                                vid.setAttribute('height', 500);
                                                vid.setAttribute('poster', story.thumb);
                                                var src = document.createElement('source');
                                                src.setAttribute('src', story.src);
                                                src.setAttribute('type', 'video/mp4');
                                                vid.appendChild(src);
                                                div.appendChild(vid);
                                            } else {
                                                var img = document.createElement('img');
                                                img.setAttribute('src', story.src);
                                                img.setAttribute('width', 300);
                                                div.appendChild(img);
                                            }
      ");
            WriteLiteral(@"                                      li.appendChild(div);

                                            var a = document.createElement('a');
                                            a.setAttribute('target', '_blank');
                                            a.setAttribute('class', 'download-btn');
                                            a.setAttribute('href', story.src);
                                            a.innerHTML = 'Download';
                                            var i = document.createElement('i');
                                            a.appendChild(i);
                                            li.appendChild(a);
                                            $('.stories-list').append(li);
                                        }
                                    }
                                }

                                if (r.highlights != null && r.highlights.length > 0) {

                                    if ($('.story-highlights li').le");
            WriteLiteral(@"ngth == 0) {
                                        for (var j = 0; j < r.highlights.length; j++) {
                                            var highlight = r.highlights[j];

                                            var li = document.createElement('li');
                                            li.classList.add('highlight');
                                            var a = document.createElement('a');
                                            a.classList.add('link');
                                            a.setAttribute('href', 'stories/' + r.account.username + '/' + highlight.id);
                                            var div = document.createElement('div');
                                            div.classList.add('thumbnail');
                                            div.setAttribute('style', 'background-image: url(' + highlight.thumb + ');');
                                            a.appendChild(div);
                                            var span = ");
            WriteLiteral(@"document.createElement('span');
                                            span.classList.add('title');
                                            span.innerHTML = highlight.title;
                                            a.appendChild(span);
                                            li.appendChild(a);
                                            $('.story-highlights').append(li);
                                        }
                                    }
                                }

                                $('.result-loading').attr('style', 'display: none');

                                return;

                            } else {

                                $('.result-error .text').html('Server error<br>#SDER1');
                            }
                        } else {

                            $('.result-error .text').html('Server error<br>#SDER2');
                        }

                        $('.result-error').removeAttr('style');
 ");
            WriteLiteral(@"                       $('.result-loading').attr('style', 'display: none');

                    }).fail(function () {

                        $('.result-error .text').html('Server could not be reached,<br>try refreshing page in a minute');
                        $('.result-error').removeAttr('style');
                        $('.result-loading').attr('style', 'display: none');
                    });

                } else {

                    $('.result-error .text').html('Server encountered a serious error<br>please report this issue');
                    $('.result-error').removeAttr('style');
                    $('.result-loading').attr('style', 'display: none');
                }

            }).fail(function () {

                if (xhr.status == 404) {

                    $('.result-error .text').html('This profile doesn\'t exist, check your username spelling');

                } else {

                    $('.result-error .text').html('Server could not be reached,<b");
            WriteLiteral(@"r>try refreshing page in a minute');
                }

                $('.result-error').removeAttr('style');
                $('.result-loading').attr('style', 'display: none');
            });
        }
    });




</script>

<div class=""col-md-12 col-12"">
    <h1 class=""spacing""> Instagram Story Downloader</h1>
    <h2 class=""spacing"">Download Instagram Story Online</h2>
</div>
<div class=""input-group mb-3 mt-5 spacing"">
    <input type=""text"" class=""form-control"" id=""urlText"" placeholder=""Username"" aria-describedby=""basic-addon2"">
    <div class=""input-group-append"">
        <button class=""btn btn-outline-primary"" type=""button"" id=""btnPost"">Convert</button>
    </div>
</div>
<div class=""row mt-5"" id=""mediaDiv"">
    <div class=""col-12 col-sm-12 col-lg-4 convertedUrlContent"" id=""toss"">

    </div>
    <div class=""col-12 col-sm-12 col-lg-4 convertedUrlContent"" id=""tossButtons"">

    </div>
    <div class=""col-12 col-sm-12 col-lg-4 convertedUrlContent d-flex justify-content-ce");
            WriteLiteral("nter\" id=\"tossInfo\">\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
